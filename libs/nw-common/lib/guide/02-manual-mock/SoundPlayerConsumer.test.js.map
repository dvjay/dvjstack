{"version":3,"file":"SoundPlayerConsumer.test.js","sourceRoot":"","sources":["../../../src/guide/02-manual-mock/SoundPlayerConsumer.test.ts"],"names":[],"mappings":";AAAA,oDAAoD;AACpD,wDAAwD;;AAExD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,wCAAwC;AAEpE,+CAA4C;AAC5C,yDAA4D;AAC5D,+DAA4D;AAE5D,UAAU,CAAC,GAAG,EAAE;IACd,gEAAgE;IAChE,MAAM,CAAC,yBAAW,CAAC,CAAC,SAAS,EAAE,CAAC;IAChC,+BAAiB,CAAC,SAAS,EAAE,CAAC;AAChC,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;IACnE,IAAI,yCAAmB,EAAE,CAAC;IAC1B,MAAM,CAAC,yBAAW,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;IAC5E,MAAM,mBAAmB,GAAwB,IAAI,yCAAmB,EAAE,CAAC;IAC3E,MAAM,iBAAiB,GAAW,UAAU,CAAC;IAC7C,mBAAmB,CAAC,iBAAiB,EAAE,CAAC;IACxC,MAAM,CAAC,+BAAiB,CAAC,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACpE,CAAC,CAAC,CAAC;AAEH,+EAA+E;AAC/E,yDAAyE;AAEzE,EAAE,CAAC,sFAAsF,EAAE,GAAG,EAAE;IAC9F,MAAM,CAAC,yBAAW,CAAC,CAAC,IAAI,CAAC,yBAAe,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC","sourcesContent":["// This example is adapted from the Jest guide here:\n// https://jestjs.io/docs/en/es6-class-mocks#manual-mock\n\njest.mock('./SoundPlayer'); // SoundPlayer is now a mock constructor\n\nimport { SoundPlayer } from './SoundPlayer';\nimport { mockPlaySoundFile } from './__mocks__/SoundPlayer';\nimport { SoundPlayerConsumer } from './SoundPlayerConsumer';\n\nbeforeEach(() => {\n  // Clear all instances and calls to constructor and all methods:\n  mocked(SoundPlayer).mockClear();\n  mockPlaySoundFile.mockClear();\n});\n\nit('We can check if the consumer called the class constructor', () => {\n  new SoundPlayerConsumer();\n  expect(SoundPlayer).toHaveBeenCalledTimes(1);\n});\n\nit('We can check if the consumer called a method on the class instance', () => {\n  const soundPlayerConsumer: SoundPlayerConsumer = new SoundPlayerConsumer();\n  const coolSoundFileName: string = 'song.mp3';\n  soundPlayerConsumer.playSomethingCool();\n  expect(mockPlaySoundFile).toHaveBeenCalledWith(coolSoundFileName);\n});\n\n// The test below validates that jest-improved-resolver.js is working correctly\nimport { SoundPlayer as MockSoundPlayer } from './__mocks__/SoundPlayer';\n\nit('Importing ./__mocks__/SoundPlayer returns the same object as importing ./SoundPlayer', () => {\n  expect(SoundPlayer).toBe(MockSoundPlayer);\n});\n"]}